(this["webpackJsonptask-manager"]=this["webpackJsonptask-manager"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"a":"https://task-manager-todo.herokuapp.com/api/v1"}')},46:function(e,t,a){e.exports=a(86)},51:function(e,t,a){},74:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),s=a.n(c),o=(a(51),a(2)),i=a.n(o),u=a(4),l=a(5),m=a(6),p=a(8),d=a(7),h=a(9),f=a(21),v=a(29),b=a(17),w=a(23),g=a.n(w);var k={init:function(){},log:function(e){console.log(e)}},j=a(11),E=a(43),O=a.n(E);function y(){try{return O()(localStorage.getItem("token"))}catch(e){return null}}function x(e){localStorage.setItem("token",e)}function N(e){return"".concat(j.a,"/user/").concat(e)}function S(){return(S=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post(N("login"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post(N("register"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F={login:function(e){return S.apply(this,arguments)},register:function(e){return D.apply(this,arguments)},loginWithJwt:x,getCurrentUser:y};g.a.defaults.headers.common["todo-auth-token"]=localStorage.getItem("token"),g.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<=500||(k.log(e),v.b.error("An unexpected error occured")),Promise.reject(e)}));var A={get:g.a.get,post:g.a.post,patch:g.a.patch,delete:g.a.delete};function C(){return A.get("".concat(j.a,"/project/all"))}function _(e){return A.get("".concat(j.a,"/project/").concat(e))}function T(e){if(e._id){var t=Object(b.a)({},e);return delete t._id,A.patch("".concat(j.a,"/project/").concat(e._id),t)}return A.post("".concat(j.a,"/project"),e)}function P(e){return A.delete("".concat(j.a,"/project/").concat(e))}function I(e){return A.patch("".concat(j.a,"/user/").concat(e,"/approve"))}function q(){return A.get("".concat(j.a,"/user/all"))}function U(e){return A.delete("".concat(j.a,"/user/").concat(e))}function M(e){return A.post("".concat(j.a,"/task"),e)}function B(e){return A.get("".concat(j.a,"/task/").concat(e))}function J(e){return A.delete("".concat(j.a,"/task/").concat(e))}function $(e){return A.patch("".concat(j.a,"/task/").concat(e,"/done"))}a(74);var L=a(12),W=a.n(L),z={name:W.a.string().min(3).required().label("name"),position:W.a.string().min(3).required().label("position"),email:W.a.string().email().required().label("Email"),password:W.a.string().regex(/(?!^[0-9]*$)(?!^[a-zA-Z]*$)^([a-zA-Z0-9]{7,50})$/).error((function(){return{message:"Password must be at least 7 characters long with at least a digit"}}))},R={email:W.a.string().email().required().label("Email"),password:W.a.string().min(7).required().label("Password")},Z={name:W.a.string().min(10).required().label("name"),owner:W.a.any().required().label("owner"),vendor:W.a.string().min(20).required().label("vendor"),description:W.a.string().min(20).required().label("description"),startDate:W.a.any().required().label("Start date"),endDate:W.a.any().required().label("End date"),_id:W.a.any()},V={taskDescription:W.a.string().min(10).required().label("description")};function G(){return z}function H(){return R}function K(){return Z}function Q(){return V}var X=a(27),Y=a(20),ee=function(e){var t=e.name,a=e.label,n=e.error,c=Object(Y.a)(e,["name","label","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",Object.assign({name:t,id:t,placeholder:a,className:"form-control"},c)),n&&r.a.createElement("small",{className:"danger"},n))},te=function(e){var t=e.name,a=e.label,n=e.error,c=e.options,s=Object(Y.a)(e,["name","label","error","options"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("select",Object.assign({name:t,className:"form-control",id:t},s),r.a.createElement("option",{value:""}),c.map((function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)}))),n&&r.a.createElement("small",{className:"danger"},n))},ae=function(e){var t=e.name,a=e.error,n=Object(Y.a)(e,["name","error"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",Object.assign({name:t},n)),a&&r.a.createElement("small",{className:"danger"},a))},ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.validate=function(){var e=W.a.validate(a.state.data,a.schema,{abortEarly:!1});if(!e.error)return null;var t={},n=!0,r=!1,c=void 0;try{for(var s,o=e.error.details[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var i=s.value;t[i.path[0]]=i.message}}catch(u){r=!0,c=u}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return t},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.validateProperty=function(e,t){var n=Object(X.a)({},e,a.schema[e]),r=Object(X.a)({},e,t),c=W.a.validate(r,n).error;return c?c.details[0].message:null},a.handleChange=function(e){var t=e.currentTarget,n=t.value;t.files&&a.setState({image:t.files[0]});var r=Object(b.a)({},a.state.errors),c=a.validateProperty(t.name,n);c?r[t.name]=c:delete r[t.name];var s=Object(b.a)({},a.state.data);s[t.name]=n,a.setState({data:s,errors:r})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"renderButton",value:function(e){return r.a.createElement("button",{disabled:this.validate()},e)}},{key:"selectField",value:function(e,t,a){var n=this.state,c=n.data,s=n.errors;return r.a.createElement(te,{name:e,label:t,options:a,onChange:this.handleChange,value:c[e],error:s[e]})}},{key:"inputField",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=this.state,s=c.data,o=c.errors;return r.a.createElement(ee,{type:a,name:e,value:s[e],label:t,placeholder:n,onChange:this.handleChange,error:o[e]})}},{key:"renderTextArea",value:function(e,t){var a=this.state,n=a.data,c=a.errors;return r.a.createElement(ae,{value:n[e],name:e,placeholder:t,onChange:this.handleChange,error:c[e]})}}]),t}(n.Component),re=a(13),ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},errors:{}},a.schema=H(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"doSubmit",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.login(this.state.data);case 3:x(e.sent.headers["todo-auth-token"]),window.location="/",e.next=19;break;case 8:if(e.prev=8,e.t0=e.catch(0),t=e.t0.response,a=Object(b.a)({},this.state.errors),401!==t.status){e.next=17;break}return a.password="User pending approval",e.abrupt("return",this.setState({errors:a}));case 17:return a.password="Incorrect email or password",e.abrupt("return",this.setState({errors:a}));case 19:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"auth-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},this.inputField("email","Email"),this.inputField("password","Password"),this.renderButton("Login")),r.a.createElement(re.b,{to:"/register"},"Register")))}}]),t}(ne),se=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{name:"",email:"",password:"",position:""},errors:{}},a.schema=G(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"doSubmit",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.register(this.state.data);case 3:this.props.history.push("/login"),e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(0),!e.t0.response){e.next=13;break}return(t=Object(b.a)({},this.state.errors)).email="User with email exists",e.abrupt("return",this.setState({errors:t}));case 13:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"auth-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},this.inputField("name","Name"),this.inputField("email","Email"),this.inputField("password","Password"),this.inputField("position","Position"),this.renderButton("Submit")))}}]),t}(ne),oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{name:"",vendor:"",owner:"",description:"",startDate:"",endDate:""},errors:{},ownerOptions:[]},a.schema=K(),a.doSubmit=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(a.state.data);case 3:e.sent,a.props.history.push("/"),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:if(t=e.sent,a=t.data,!(n=this.props.match.params.id)){e.next=14;break}return e.next=9,_(n);case 9:(r=(r=e.sent).data)&&((c=Object(b.a)({},this.state.data)).name=r.name,c.vendor=r.vendor,c.owner=r.owner,c.name=r.name,c.description=r.description,c.startDate="",c.endDate="",c._id=r._id,this.setState({data:c,ownerOptions:a,errors:[]})),e.next=15;break;case 14:this.setState({ownerOptions:a,errors:[]});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),e.t0.response;case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"auth-form"},r.a.createElement("form",{onSubmit:this.handleSubmit},this.inputField("name","Name"),this.selectField("owner","Owner",this.state.ownerOptions),this.inputField("vendor","Vendor"),this.renderTextArea("description","Enter project description"),this.inputField("startDate","Start","date"),this.inputField("endDate","End","date"),this.renderButton("Submit")))}}]),t}(ne);function ie(e){return e=(e=new Date(e)).toLocaleDateString()}var ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).state={data:{taskDescription:""},tasks:[],newTaskId:"",currProjectId:"",errors:[]},a.schema=Q(),a.componentDidMount=function(){a.getTasks()},a.getTasks=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B();case 3:t=e.sent,a.setState({tasks:t.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.handleNewTask=function(e){var t=!a.state.newTaskForm;a.props.currProjectId!==e?a.setState({currProjectId:e,newTaskForm:t}):a.setState({newTaskForm:t})},a.handleDone=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(t);case 3:a.componentDidMount(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a.handleTaskDelete=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(t);case 3:a.componentDidMount(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a.renderTaskForm=function(){return r.a.createElement("form",{onSubmit:a.handleSubmit},a.inputField("taskDescription",""),a.renderButton("Add"))},a.doSubmit=Object(u.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.currProjectId,n=a.state.data.taskDescription,e.prev=2,r={description:n,project:t},e.next=6,M(r);case 6:a.getTasks(t),a.setState({data:{taskDescription:""},newTaskForm:!1}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])}))),a.renderTasks=function(e,t){var n=a.state,c=n.tasks,s=n.newTaskForm,o=n.currProjectId,i=a.props.user;c=c.filter((function(t){return t.project===e}));var u="fa fa-";return u+=s?"minus":"plus",r.a.createElement("div",null,r.a.createElement("h4",null,r.a.createElement("i",{className:"fa fa-tasks"})," Tasks \u2003",i.isAdmin&&r.a.createElement("i",{onClick:function(){return a.handleNewTask(e)},className:u})),0===c.length&&"No task yet",c.map((function(e){return r.a.createElement("div",{className:"task",key:e._id},r.a.createElement("p",null,e.description," \u2003\u2003",a.handleTaskCondition(e,t),i.isAdmin&&r.a.createElement("i",{onClick:function(){return a.handleTaskDelete(e._id)},className:"fa fa-trash-o"})))})),s&&o===e&&a.renderTaskForm())},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"handleTaskCondition",value:function(e,t){var a=this,n=this.props.user;return r.a.createElement(r.a.Fragment,null,!e.done&&r.a.createElement("span",null,r.a.createElement("small",{style:{color:"red"}},"Pending"),n._id===t&&r.a.createElement("button",{onClick:function(){return a.handleDone(e._id,"done")}},"Done")),e.done&&r.a.createElement("span",{className:"task-state"},r.a.createElement("i",{className:"fa fa-check"},r.a.createElement("small",null,"Done")),n._id===t&&r.a.createElement("button",{onClick:function(){return a.handleDone(e._id,"undo")}},"Undo")))}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.ownerId;return r.a.createElement(r.a.Fragment,null,this.renderTasks(t,a))}}]),t}(ne),le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[]},a.getProjects=Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.param.user,e.prev=1,e.next=4,C();case 4:n=(n=e.sent).data,"my-projects"===t&&(n=n.filter((function(e){return e.owner._id===a.props.user._id}))),a.setState({projects:n}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])}))),a.deleteProj=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(t);case 3:a.getProjects(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getProjects();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.projects,a=this.props.user;return r.a.createElement("div",{className:"all-projects"},0===t.length&&r.a.createElement("p",null,"No project"),t.map((function(t){var n=ie(t.startDate),c=ie(t.endDate),s=function(e,t){e=new Date;var a=(t=new Date(t)).getTime()-e.getTime();return a=a<0?0:a,Math.round(a/864e5)}(t.startDate,t.endDate);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"project ".concat(0===s&&"project-red"),key:t._id},r.a.createElement("h2",null," ",t.name," "),r.a.createElement("p",null," ","Start date:\u2002",n,"\u2003 End date:\u2002",c),r.a.createElement("p",null,"Days left: \u2002",s),r.a.createElement("p",null,"Owner: ",t.owner.name," "),r.a.createElement("p",null,"description: \xa0 ",t.description),a.isAdmin&&r.a.createElement(r.a.Fragment,null,r.a.createElement(re.b,{to:"/project/".concat(t._id)}," ",r.a.createElement("i",{className:"fa fa-pencil-square-o"})," "),r.a.createElement("i",{onClick:function(){return e.deleteProj(t._id)},className:"fa fa-trash-o"})),r.a.createElement(ue,{user:e.props.user,ownerId:t.owner._id,id:t._id})))})))}}]),t}(n.Component),me=(a(82),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(le,{param:this.props.match.params,user:e}))}}]),t}(n.Component)),pe=(a(83),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a.getUsers=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q();case 3:t=e.sent,a.setState({users:t.data}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),a.handleApprove=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:e.sent,a.componentDidMount(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.handleUserDel=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(t);case 3:a.getUsers(),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getUsers();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.users,a=this.props.user;return a=void 0===a?{}:a,r.a.createElement("div",{className:"users-display"},t.map((function(t){return r.a.createElement("div",{className:"user-display",key:t._id},r.a.createElement("h4",null,"Name: ",t.name),r.a.createElement("p",null,"Email: ",t.email),r.a.createElement("p",null,"Position: ",t.position," "),a.isAdmin&&!t.approved&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return e.handleApprove(t._id)}},"Approve")),a.isAdmin&&t.approved&&r.a.createElement("button",{onClick:function(){return e.handleApprove(t._id)}},"Revoke access"),a.isAdmin&&r.a.createElement("button",{className:"delete",onClick:function(){return e.handleUserDel(t._id)}},"Delete"))})))}}]),t}(n.Component)),de=function(){localStorage.removeItem("token"),window.location="/"},he=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"myAccFunc",value:function(){var e=document.getElementById("demoAcc");-1===e.className.indexOf("w3-show")?(e.className+=" w3-show",e.previousElementSibling.className+=" w3-green"):(e.className=e.className.replace(" w3-show",""),e.previousElementSibling.className=e.previousElementSibling.className.replace(" w3-green",""))}},{key:"myDropFunc",value:function(){var e=document.getElementById("demoDrop");-1===e.className.indexOf("w3-show")?(e.className+=" w3-show",e.previousElementSibling.className+=" w3-green"):(e.className=e.className.replace(" w3-show",""),e.previousElementSibling.className=e.previousElementSibling.className.replace(" w3-green",""))}},{key:"render",value:function(){var e=this.props.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"w3-sidebar w3-bar-block w3-light-grey w3-card",style:{width:"160px",position:"fixed",top:"0"}},r.a.createElement("h6",null,e.name),r.a.createElement("div",{className:"w3-dropdown-click"},r.a.createElement("button",{className:"w3-button",onClick:this.myDropFunc},r.a.createElement("i",{className:"fa fa-project"})," Projects"," ",r.a.createElement("i",{className:"fa fa-caret-down"})),r.a.createElement("div",{id:"demoDrop",className:"w3-dropdown-content w3-bar-block w3-white w3-card"},e.isAdmin&&r.a.createElement(re.b,{to:"/project/new",className:"w3-bar-item w3-button"},"New Project"),r.a.createElement(re.b,{to:"/",className:"w3-bar-item w3-button"},"All Projects"),r.a.createElement(re.b,{to:"/my-projects",className:"w3-bar-item w3-button"},"My Projects"))),r.a.createElement(re.b,{to:"/users",className:"w3-bar-item w3-button"},r.a.createElement("i",{className:"fa fa-users"})," Users"),r.a.createElement(re.b,{to:"",className:"w3-button",onClick:de},r.a.createElement("i",{className:"fa fa-sign-out"}),"Logout")))}}]),t}(n.Component),fe=function(e){e.path;var t=e.component,a=e.render,n=Object(Y.a)(e,["path","component","render"]);return r.a.createElement(f.b,Object.assign({},n,{render:function(e){return F.getCurrentUser()?t?r.a.createElement(t,e):a(e):r.a.createElement(f.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=y())){e.next=7;break}return e.next=4,a=t._id,A.get("".concat(j.a,"/user/").concat(a));case 4:t=(t=e.sent).data,this.setState({user:t});case 7:case"end":return e.stop()}var a}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.user&&r.a.createElement(he,{user:this.state.user}),r.a.createElement(v.a,null),r.a.createElement(f.d,null,r.a.createElement(fe,{path:"/",exact:!0,component:function(t){return r.a.createElement(me,Object.assign({user:e.state.user},t))}}),r.a.createElement(f.b,{path:"/login",exact:!0,render:function(e){return r.a.createElement(ce,e)}}),r.a.createElement(f.b,{path:"/register",exact:!0,render:function(e){return r.a.createElement(se,e)}}),r.a.createElement(fe,{path:"/project/new",exact:!0,component:function(t){return r.a.createElement(oe,Object.assign({user:e.state.user},t))}}),r.a.createElement(fe,{path:"/project/:id",component:function(t){return r.a.createElement(oe,Object.assign({user:e.state.user},t))}}),r.a.createElement(fe,{path:"/users",render:function(t){return r.a.createElement(pe,Object.assign({user:e.state.user},t))}}),r.a.createElement(fe,{path:"/:user",exact:!0,component:function(t){return r.a.createElement(me,Object.assign({user:e.state.user},t))}})))}}]),t}(n.Component);a(84),a(85),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(re.a,null,r.a.createElement(ve,null)," "),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.2fc4e56f.chunk.js.map